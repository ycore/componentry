{"version":3,"file":"button.js","sourceRoot":"","sources":["../../../src/catalyst/button.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as Headless from '@headlessui/react';\nimport clsx from 'clsx';\nimport React, { forwardRef } from 'react';\n\nimport { Link } from './link.js';\n\nconst styles = {\n  base: [\n    // Base\n    'relative isolate inline-flex items-baseline justify-center gap-x-2 rounded-lg border text-base/6 font-semibold',\n    // Sizing\n    'px-[calc(--spacing(3.5)-1px)] py-[calc(--spacing(2.5)-1px)] sm:px-[calc(--spacing(3)-1px)] sm:py-[calc(--spacing(1.5)-1px)] sm:text-sm/6',\n    // Focus\n    'focus:outline-hidden data-focus:outline data-focus:outline-2 data-focus:outline-offset-2 data-focus:outline-blue-500',\n    // Disabled\n    'data-disabled:opacity-50',\n    // Icon\n    '*:data-[slot=icon]:-mx-0.5 *:data-[slot=icon]:my-0.5 *:data-[slot=icon]:size-5 *:data-[slot=icon]:shrink-0 *:data-[slot=icon]:self-center *:data-[slot=icon]:text-(--btn-icon) sm:*:data-[slot=icon]:my-1 sm:*:data-[slot=icon]:size-4 forced-colors:[--btn-icon:ButtonText] forced-colors:data-hover:[--btn-icon:ButtonText]',\n  ],\n  solid: [\n    // Optical border, implemented as the button background to avoid corner artifacts\n    'border-transparent bg-(--btn-border)',\n    // Dark mode: border is rendered on `after` so background is set to button background\n    'dark:bg-(--btn-bg)',\n    // Button background, implemented as foreground layer to stack on top of pseudo-border layer\n    'before:absolute before:inset-0 before:-z-10 before:rounded-[calc(var(--radius-lg)-1px)] before:bg-(--btn-bg)',\n    // Drop shadow, applied to the inset `before` layer so it blends with the border\n    'before:shadow-sm',\n    // Background color is moved to control and shadow is removed in dark mode so hide `before` pseudo\n    'dark:before:hidden',\n    // Dark mode: Subtle white outline is applied using a border\n    'dark:border-white/5',\n    // Shim/overlay, inset to match button foreground and used for hover state + highlight shadow\n    'after:absolute after:inset-0 after:-z-10 after:rounded-[calc(var(--radius-lg)-1px)]',\n    // Inner highlight shadow\n    'after:shadow-[shadow:inset_0_1px_--theme(--color-white/15%)]',\n    // White overlay on hover\n    'data-active:after:bg-(--btn-hover-overlay) data-hover:after:bg-(--btn-hover-overlay)',\n    // Dark mode: `after` layer expands to cover entire button\n    'dark:after:-inset-px dark:after:rounded-lg',\n    // Disabled\n    'data-disabled:before:shadow-none data-disabled:after:shadow-none',\n  ],\n  outline: [\n    // Base\n    'border-zinc-950/10 text-zinc-950 data-active:bg-zinc-950/[2.5%] data-hover:bg-zinc-950/[2.5%]',\n    // Dark mode\n    'dark:border-white/15 dark:text-white dark:[--btn-bg:transparent] dark:data-active:bg-white/5 dark:data-hover:bg-white/5',\n    // Icon\n    '[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]',\n  ],\n  plain: [\n    // Base\n    'border-transparent text-zinc-950 data-active:bg-zinc-950/5 data-hover:bg-zinc-950/5',\n    // Dark mode\n    'dark:text-white dark:data-active:bg-white/10 dark:data-hover:bg-white/10',\n    // Icon\n    '[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]',\n  ],\n  colors: {\n    'dark/zinc': [\n      'text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10',\n      'dark:text-white dark:[--btn-bg:var(--color-zinc-600)] dark:[--btn-hover-overlay:var(--color-white)]/5',\n      '[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]',\n    ],\n    light: [\n      'text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/[2.5%] data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15',\n      'dark:text-white dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]',\n      '[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]',\n    ],\n    'dark/white': [\n      'text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10',\n      'dark:text-zinc-950 dark:[--btn-bg:white] dark:[--btn-hover-overlay:var(--color-zinc-950)]/5',\n      '[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]',\n    ],\n    dark: [\n      'text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10',\n      'dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]',\n      '[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]',\n    ],\n    white: [\n      'text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/[2.5%] data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15',\n      'dark:[--btn-hover-overlay:var(--color-zinc-950)]/5',\n      '[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-500)] data-hover:[--btn-icon:var(--color-zinc-500)]',\n    ],\n    zinc: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-zinc-600)] [--btn-border:var(--color-zinc-700)]/90',\n      'dark:[--btn-hover-overlay:var(--color-white)]/5',\n      '[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]',\n    ],\n    indigo: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-indigo-500)] [--btn-border:var(--color-indigo-600)]/90',\n      '[--btn-icon:var(--color-indigo-300)] data-active:[--btn-icon:var(--color-indigo-200)] data-hover:[--btn-icon:var(--color-indigo-200)]',\n    ],\n    cyan: ['text-cyan-950 [--btn-bg:var(--color-cyan-300)] [--btn-border:var(--color-cyan-400)]/80 [--btn-hover-overlay:var(--color-white)]/25', '[--btn-icon:var(--color-cyan-500)]'],\n    red: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-red-600)] [--btn-border:var(--color-red-700)]/90',\n      '[--btn-icon:var(--color-red-300)] data-active:[--btn-icon:var(--color-red-200)] data-hover:[--btn-icon:var(--color-red-200)]',\n    ],\n    orange: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-orange-500)] [--btn-border:var(--color-orange-600)]/90',\n      '[--btn-icon:var(--color-orange-300)] data-active:[--btn-icon:var(--color-orange-200)] data-hover:[--btn-icon:var(--color-orange-200)]',\n    ],\n    amber: ['text-amber-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-amber-400)] [--btn-border:var(--color-amber-500)]/80', '[--btn-icon:var(--color-amber-600)]'],\n    yellow: [\n      'text-yellow-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-yellow-300)] [--btn-border:var(--color-yellow-400)]/80',\n      '[--btn-icon:var(--color-yellow-600)] data-active:[--btn-icon:var(--color-yellow-700)] data-hover:[--btn-icon:var(--color-yellow-700)]',\n    ],\n    lime: [\n      'text-lime-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-lime-300)] [--btn-border:var(--color-lime-400)]/80',\n      '[--btn-icon:var(--color-lime-600)] data-active:[--btn-icon:var(--color-lime-700)] data-hover:[--btn-icon:var(--color-lime-700)]',\n    ],\n    green: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-green-600)] [--btn-border:var(--color-green-700)]/90',\n      '[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80',\n    ],\n    emerald: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-emerald-600)] [--btn-border:var(--color-emerald-700)]/90',\n      '[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80',\n    ],\n    teal: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-teal-600)] [--btn-border:var(--color-teal-700)]/90',\n      '[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80',\n    ],\n    sky: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-sky-500)] [--btn-border:var(--color-sky-600)]/80',\n      '[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80',\n    ],\n    blue: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-blue-600)] [--btn-border:var(--color-blue-700)]/90',\n      '[--btn-icon:var(--color-blue-400)] data-active:[--btn-icon:var(--color-blue-300)] data-hover:[--btn-icon:var(--color-blue-300)]',\n    ],\n    violet: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-violet-500)] [--btn-border:var(--color-violet-600)]/90',\n      '[--btn-icon:var(--color-violet-300)] data-active:[--btn-icon:var(--color-violet-200)] data-hover:[--btn-icon:var(--color-violet-200)]',\n    ],\n    purple: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-purple-500)] [--btn-border:var(--color-purple-600)]/90',\n      '[--btn-icon:var(--color-purple-300)] data-active:[--btn-icon:var(--color-purple-200)] data-hover:[--btn-icon:var(--color-purple-200)]',\n    ],\n    fuchsia: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-fuchsia-500)] [--btn-border:var(--color-fuchsia-600)]/90',\n      '[--btn-icon:var(--color-fuchsia-300)] data-active:[--btn-icon:var(--color-fuchsia-200)] data-hover:[--btn-icon:var(--color-fuchsia-200)]',\n    ],\n    pink: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-pink-500)] [--btn-border:var(--color-pink-600)]/90',\n      '[--btn-icon:var(--color-pink-300)] data-active:[--btn-icon:var(--color-pink-200)] data-hover:[--btn-icon:var(--color-pink-200)]',\n    ],\n    rose: [\n      'text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-rose-500)] [--btn-border:var(--color-rose-600)]/90',\n      '[--btn-icon:var(--color-rose-300)] data-active:[--btn-icon:var(--color-rose-200)] data-hover:[--btn-icon:var(--color-rose-200)]',\n    ],\n  },\n};\n\ntype ButtonProps = ({ color?: keyof typeof styles.colors; outline?: never; plain?: never } | { color?: never; outline: true; plain?: never } | { color?: never; outline?: never; plain: true }) & {\n  className?: string;\n  children: React.ReactNode;\n} & (Omit<Headless.ButtonProps, 'as' | 'className'> | Omit<React.ComponentPropsWithoutRef<typeof Link>, 'className'>);\n\nexport const Button = forwardRef(function Button({ color, outline, plain, className, children, ...props }: ButtonProps, ref: React.ForwardedRef<HTMLElement>) {\n  const classes = clsx(className, styles.base, outline ? styles.outline : plain ? styles.plain : clsx(styles.solid, styles.colors[color ?? 'dark/zinc']));\n\n  return 'href' in props ? (\n    <Link {...props} className={classes} ref={ref as React.ForwardedRef<HTMLAnchorElement>}>\n      <TouchTarget>{children}</TouchTarget>\n    </Link>\n  ) : (\n    <Headless.Button {...props} className={clsx(classes, 'cursor-default')} ref={ref}>\n      <TouchTarget>{children}</TouchTarget>\n    </Headless.Button>\n  );\n});\n\n/**\n * Expand the hit area to at least 44×44px on touch devices\n */\nexport function TouchTarget({ children }: { children: React.ReactNode }) {\n  return (\n    <>\n      <span className=\"-translate-x-1/2 -translate-y-1/2 absolute top-1/2 left-1/2 size-[max(100%,2.75rem)] [@media(pointer:fine)]:hidden\" aria-hidden=\"true\" />\n      {children}\n    </>\n  );\n}\n"]}