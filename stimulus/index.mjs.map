{"version":3,"sources":["../../src/stimulus/NavMenu.tsx","../../src/stimulus/Page.tsx","../../src/stimulus/ThemeSwitcher.tsx","../../src/stimulus/index.ts"],"sourcesContent":["import { ChevronDownIcon, ChevronRightIcon } from '@heroicons/react/16/solid';\nimport { toBase } from '@ycore/forge/utils';\nimport { Fragment, type HTMLAttributes, type ReactNode, createContext, useContext } from 'react';\n\nimport clsx from 'clsx';\nimport { useLocation } from 'react-router';\nimport { Dropdown, Navbar, Sidebar, SidebarLayout, StackedLayout } from '../catalyst';\n\ntype FilterProps = { filter?: string[] };\ntype ComponentProps = { component: ReactNode };\ntype WithLabel = { label: ReactNode } & { component?: ReactNode };\ntype WithComponent = ComponentProps & { label?: ReactNode };\ntype WithLabelOrComponent = WithLabel | WithComponent;\ntype WithHref = { href: string; submenu?: never };\ntype ValidSubMenuItem = ({ ref: string } & WithLabelOrComponent & WithHref) | (ComponentProps & { ref: string; href?: never; submenu?: never });\ntype WithSubmenu = { submenu: ValidSubMenuItem[]; href?: never };\n\nexport type SectionItem = { ref: string } & FilterProps & ((WithLabelOrComponent & WithHref) | (WithLabelOrComponent & WithSubmenu) | (ComponentProps & { href?: never; submenu?: never }));\nexport type Section = { section: SectionItem[] };\nexport interface NavMenuProps extends Omit<React.ComponentProps<typeof SidebarLayout>, 'navbar' | 'sidebar'> {\n  navConfigItems: Section[];\n  navFilters?: string[];\n  menuClass?: string;\n}\ninterface NavMenuItemProps extends HTMLAttributes<HTMLElement> {\n  sectionitem: SectionItem;\n  type?: string;\n  navkey?: string | number;\n}\n\nconst LocationContext = createContext<string>('');\n\nexport const SideMenu = ({ navConfigItems, navFilters, menuClass, ...props }: NavMenuProps) => {\n  const { children, ...rest } = props;\n  const location = useLocation();\n  const { navbar, sidebar } = NavMenuFactory({ navConfigItems, navFilters });\n  return (\n    <LocationContext.Provider value={location.pathname}>\n      <SidebarLayout navbar={navbar} sidebar={sidebar} className={menuClass} {...rest}>\n        {children}\n      </SidebarLayout>\n    </LocationContext.Provider>\n  );\n};\n\nexport const StackMenu = ({ navConfigItems, navFilters, menuClass, ...props }: NavMenuProps) => {\n  const { children, ...rest } = props;\n  const location = useLocation();\n  const { navbar, sidebar } = NavMenuFactory({ navConfigItems, navFilters });\n  return (\n    <LocationContext.Provider value={location.pathname}>\n      <StackedLayout navbar={navbar} sidebar={sidebar} className={menuClass} {...rest}>\n        {children}\n      </StackedLayout>\n    </LocationContext.Provider>\n  );\n};\n\nexport const NavMenuFactory = ({ navConfigItems, navFilters = [] }: NavMenuProps) => {\n  const shouldShowItem = (item: SectionItem) => {\n    if (!item.filter || item.filter.length === 0) return true;\n\n    return item.filter.some(filter => navFilters.includes(filter));\n  };\n\n  const filteredItems: Section[] =\n    navFilters.length === 0\n      ? (navConfigItems as Section[])\n      : (navConfigItems\n          .map(section => {\n            return {\n              section: section.section.filter(shouldShowItem).map(item => {\n                if (item.submenu) {\n                  return {\n                    ...item,\n                    submenu: item.submenu.filter(shouldShowItem),\n                  };\n                }\n                return item;\n              }),\n            };\n          })\n          .filter(section => section.section.length > 0) as Section[]);\n\n  return {\n    navbar: (\n      <Navbar>\n        {filteredItems.map((sections, idx) => {\n          const keyIdx = toBase(idx);\n          return (\n            <Fragment key={`fmt-${keyIdx}`}>\n              {idx === 1 && <Navbar.Spacer key={`space-${keyIdx}`} />}\n              <Navbar.Section key={`section-${keyIdx}`} className=\"max-lg:hidden\">\n                {idx !== 0 && <Navbar.Divider key={`div-${keyIdx}`} />}\n                {sections.section.map(sectionitem => {\n                  return <NavMenuItem sectionitem={sectionitem} type=\"navbar\" key={sectionitem.ref} />;\n                })}\n              </Navbar.Section>\n            </Fragment>\n          );\n        })}\n      </Navbar>\n    ),\n    sidebar: (\n      <Sidebar>\n        <Sidebar.Body>\n          {filteredItems.map((sections, idx) => {\n            const keyIdx = toBase(idx);\n            return (\n              <Fragment key={`fmt-${keyIdx}`}>\n                {idx !== 0 && <Sidebar.Divider key={`div-${keyIdx}`} />}\n                {idx === filteredItems.length - 1 && <Sidebar.Spacer key={`space-${keyIdx}`} />}\n                <Sidebar.Section key={`section-${keyIdx}`}>\n                  {sections.section.map((sectionitem, itx) => {\n                    return <NavMenuItem sectionitem={sectionitem} type=\"sidebar\" key={sectionitem.ref} />;\n                  })}\n                </Sidebar.Section>\n              </Fragment>\n            );\n          })}\n        </Sidebar.Body>\n      </Sidebar>\n    ),\n  };\n};\n\nconst NavMenuItem = ({ sectionitem, type, navkey, ...props }: NavMenuItemProps) => {\n  const pathname = useContext(LocationContext);\n  const hasActive = sectionitem.submenu?.some(item => item.href && pathname === item.href);\n  const isNavbar = type === 'navbar';\n\n  return sectionitem.submenu ? (\n    <Dropdown key={`dd-${navkey}`}>\n      <Dropdown.Button as={isNavbar ? Navbar.Item : Sidebar.Item} className={clsx(isNavbar ? 'max-lg:hidden' : 'lg:mb-2.5', hasActive ? 'rounded-b-none border-b' : 'border-current')}>\n        {sectionitem.component}\n        {'label' in sectionitem && sectionitem.label && (isNavbar ? <Navbar.Label>{sectionitem.label}</Navbar.Label> : <Sidebar.Label>{sectionitem.label}</Sidebar.Label>)}\n        {isNavbar ? <ChevronDownIcon /> : <ChevronRightIcon />}\n      </Dropdown.Button>\n      <Dropdown.Menu key={navkey} className=\"min-w-80 lg:min-w-64\" {...props}>\n        {sectionitem.submenu.map((submenuitem, ix) => {\n          return (\n            <Dropdown.Item key={`drop-${toBase(ix)}`} href={submenuitem.href} className={clsx(submenuitem.href && pathname === submenuitem.href ? 'rounded-l-none border-l-2' : 'border-current')}>\n              {submenuitem.component}\n              {'label' in submenuitem && submenuitem.label && <Dropdown.Label>{submenuitem.label}</Dropdown.Label>}\n            </Dropdown.Item>\n          );\n        })}\n      </Dropdown.Menu>\n    </Dropdown>\n  ) : isNavbar ? (\n    <Navbar.Item key={navkey} href={sectionitem.href || '#'} current={!!(sectionitem.href && pathname === sectionitem.href)}>\n      {sectionitem.component}\n      {'label' in sectionitem && sectionitem.label && <Navbar.Label>{sectionitem.label}</Navbar.Label>}\n    </Navbar.Item>\n  ) : (\n    <Sidebar.Item key={navkey} href={sectionitem.href || '#'} current={!!(sectionitem.href && pathname === sectionitem.href)}>\n      {sectionitem.component}\n      {'label' in sectionitem && sectionitem.label && <Sidebar.Label>{sectionitem.label}</Sidebar.Label>}\n    </Sidebar.Item>\n  );\n};\n","import type React from 'react';\n\nimport { Link } from '../catalyst/link.js';\n\nexport function Header({ children }: React.PropsWithChildren) {\n  return (\n    <header className=\"print:hidden\">\n      <Link href=\"/\">\n        <div className=\"flex flex-col md:py-8 md:pl-8\">\n          <div className=\"flew-row flex w-full justify-around md:justify-start md:gap-x-8\">{children}</div>\n        </div>\n      </Link>\n    </header>\n  );\n}\n\nexport function Footer({ children }: React.PropsWithChildren) {\n  return (\n    <footer className=\"sticky top-[100vh] flex w-full flex-col items-center bg-opacity-100 pt-12 pb-8 print:hidden\">\n      <p className=\"font-lato-100 text-xs uppercase text-opacity-30\">{children}</p>\n    </footer>\n  );\n}\n","import { MoonIcon, SunIcon } from '@heroicons/react/24/outline';\nimport { useTheme } from 'next-themes';\nimport type React from 'react';\nimport { useEffect, useState } from 'react';\n\nexport type Themes = { theme: { light: string; dark: string } };\n\nexport const ThemeSwitcher = (option: Themes = { theme: { light: 'light', dark: 'dark' } }) => {\n  const [mounted, setMounted] = useState(false);\n  const { resolvedTheme, setTheme } = useTheme();\n  useEffect(() => setMounted(true), []);\n\n  if (!mounted) return null;\n  return (\n    <button\n      type=\"button\"\n      className=\"size-5\"\n      onClick={(e: React.MouseEvent) => {\n        setTheme(resolvedTheme === option.theme.dark ? option.theme.light : option.theme.dark);\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n      aria-label=\"theme switch\"\n    >\n      {resolvedTheme === option.theme.dark ? <MoonIcon className=\"size-5 animate-rotate\" /> : <SunIcon className=\"size-5 animate-rotate\" />}\n    </button>\n  );\n};\n","export { SideMenu, StackMenu, type Section } from './NavMenu';\nexport { Footer, Header } from './Page';\nexport { ThemeSwitcher } from './ThemeSwitcher';\nexport { ThemeProvider } from 'next-themes';\n"],"mappings":"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","names":["jsx","jsx"]}