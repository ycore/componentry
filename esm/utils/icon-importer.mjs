import*as e from"node:fs/promises";import*as r from"node:path";import*as t from"node:url";import*as o from"react";import*as a from"react-dom/server";import*as i from"vite";function l(l){return{name:"vite-plugin-icon-importer",async buildStart(){for(let u of l)for(let l of(await e.default.mkdir(u.outputDir,{recursive:!0}),console.info(`\u{1F504} Populating ${u.outputDir}`),u.fileNames))try{let n=l.replace(/(?:Icon)?\.js$/,".svg").replace(/_/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p=r.default.join(u.outputDir,n),f=(0,t.pathToFileURL)(`${u.inputUrl}/${l}`).href,m=(await import(f)).default,s=o.default.createElement(m,null),c=a.default.renderToStaticMarkup(s),d="";try{d=await e.default.readFile(p,"utf8")}catch{}d!==c&&(await e.default.writeFile(p,c),console.log(` \u{27A1}\u{FE0F} Generated: ${(0,i.normalizePath)(p)}`))}catch(e){console.error(`\u{274C}  Error processing ${l}:`,e?.message||String(e))}}}}export{l as iconImporter};